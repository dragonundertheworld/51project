A51 MACRO ASSEMBLER  TEST                                                                 04/25/2022 11:42:02 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\test.obj
ASSEMBLER INVOKED BY: D:\KEIL\C51\BIN\A51.EXE test.a51 SET(SMALL) DEBUG PRINT(.\Listings\test.lst) OBJECT(.\Objects\test
                      .obj) EP

LOC  OBJ            LINE     SOURCE

0000 75B0FF            1     MOV P3,#11111111B
  0080                 2     KEY1 BIT P0.0  
  0081                 3     KEY2 BIT P0.1
                       4     
0003 208003            5     JUDGE0: JB KEY1,JUDGE1
0006 30800C            6                     JNB KEY1,JUDGE2
                       7     
0009 208103            8     JUDGE1: JB KEY2,TRANS0_1
000C 308103            9                     JNB KEY2,TRANS0_2
000F 020021           10                     TRANS0_1:LJMP PART1
0012 020054           11                     TRANS0_2:LJMP PART2             
                      12                     
0015 208103           13     JUDGE2: JB KEY2,TRANS0_3
0018 308103           14                     JNB KEY2,TRANS0_4
001B 020087           15                     TRANS0_3:LJMP PART3
001E 020137           16                     TRANS0_4:LJMP PART4
                      17     
0021                  18     PART1:
0021 74FE             19     MOV A, #11111110B
0023 7E07             20     MOV R6,#7
0025 F5A0             21     MOV P2,A
0027 F590             22     MOV P1,A
0029 120194           23     LCALL DELAY
002C                  24     LEFT1:
002C 308022           25     JNB KEY1,TRANS1
002F 30811F           26     JNB KEY2,TRANS1
0032 23               27     RL A
0033 F5A0             28     MOV P2,A
0035 F590             29     MOV P1,A
0037 120194           30     LCALL DELAY
003A DEF0             31     DJNZ R6,LEFT1
003C 7E06             32     MOV R6,#6
003E                  33     RIGHT1:
003E 308010           34     JNB KEY1,TRANS1
0041 30810D           35     JNB KEY2,TRANS1
0044 03               36     RR A
0045 F5A0             37     MOV P2,A
0047 F590             38     MOV P1,A
0049 120194           39     LCALL DELAY
004C DEF0             40     DJNZ R6,RIGHT1
                      41     
004E 020021           42     LJMP PART1
0051 020003           43     TRANS1:LJMP JUDGE0
                      44     
0054                  45     PART2:
0054 74FC             46     MOV A, #11111100B
0056 7E06             47     MOV R6,#6
0058 F5A0             48     MOV P2,A
005A F590             49     MOV P1,A
005C 120194           50     LCALL DELAY
005F                  51     LEFT2:
005F 308022           52     JNB KEY1,TRANS2
0062 20811F           53     JB KEY2,TRANS2
0065 23               54     RL A
0066 F5A0             55     MOV P2,A
0068 F590             56     MOV P1,A
006A 120194           57     LCALL DELAY
A51 MACRO ASSEMBLER  TEST                                                                 04/25/2022 11:42:02 PAGE     2

006D DEF0             58     DJNZ R6,LEFT2
006F 7E05             59     MOV R6,#5
0071                  60     RIGHT2:
0071 308010           61     JNB KEY1,TRANS2
0074 20810D           62     JB KEY2,TRANS2
0077 03               63     RR A
0078 F5A0             64     MOV P2,A
007A F590             65     MOV P1,A
007C 120194           66     LCALL DELAY
007F DEF0             67     DJNZ R6,RIGHT2
                      68     
0081 020054           69     LJMP PART2
0084 020003           70     TRANS2:LJMP JUDGE0
                      71     
0087                  72     PART3:
0087 75A0DE           73     MOV P2, #11011110B
008A 7590DE           74     MOV P1, #11011110B
008D 1201AD           75     LCALL LDELAY
0090 208041           76     JB KEY1,TRANS3
0093 30813E           77     JNB KEY2,TRANS3
                      78     
0096 75A0BD           79     MOV P2, #10111101B
0099 7590BD           80     MOV P1, #10111101B
009C 1201AD           81     LCALL LDELAY
009F 208032           82     JB KEY1,TRANS3
00A2 30812F           83     JNB KEY2,TRANS3
                      84     
00A5 75A07B           85     MOV P2, #01111011B
00A8 75907B           86     MOV P1, #01111011B
00AB 1201AD           87     LCALL LDELAY
00AE 208023           88     JB KEY1,TRANS3
00B1 308120           89     JNB KEY2,TRANS3
                      90     
00B4 75A0F7           91     MOV P2, #11110111B
00B7 7590F7           92     MOV P1, #11110111B
00BA 1201AD           93     LCALL LDELAY
00BD 208014           94     JB KEY1,TRANS3
00C0 308111           95     JNB KEY2,TRANS3
                      96     
00C3 75A0EF           97     MOV P2, #11101111B
00C6 7590EF           98     MOV P1, #11101111B
00C9 1201AD           99     LCALL LDELAY
00CC 208005          100     JB KEY1,TRANS3
00CF 308102          101     JNB KEY2,TRANS3
                     102     
00D2 8003            103     SJMP PART33
00D4 020003          104     TRANS3:LJMP JUDGE0
                     105     
00D7                 106     PART33:
00D7 75A0BD          107     MOV P2, #10111101B
00DA 7590BD          108     MOV P1, #10111101B
00DD 120194          109     LCALL DELAY
00E0 208051          110     JB KEY1,TRANS33
00E3 30814E          111     JNB KEY2,TRANS33
                     112     
00E6 75A0DE          113     MOV P2, #11011110B
00E9 7590DE          114     MOV P1, #11011110B
00EC 120194          115     LCALL DELAY
00EF 208042          116     JB KEY1,TRANS33
00F2 30813F          117     JNB KEY2,TRANS33
                     118     
00F5 75A0EE          119     MOV P2, #11101110B
00F8 7590EE          120     MOV P1, #11101110B
00FB 120194          121     LCALL DELAY
00FE 208033          122     JB KEY1,TRANS33
0101 308130          123     JNB KEY2,TRANS33
A51 MACRO ASSEMBLER  TEST                                                                 04/25/2022 11:42:02 PAGE     3

                     124     
0104 75A0F7          125     MOV P2, #11110111B
0107 7590F7          126     MOV P1, #11110111B
010A 120194          127     LCALL DELAY
010D 208024          128     JB KEY1,TRANS33
0110 308121          129     JNB KEY2,TRANS33
                     130     
0113 75A0BD          131     MOV P2, #10111101B
0116 7590BD          132     MOV P1, #10111101B
0119 120194          133     LCALL DELAY
011C 208015          134     JB KEY1,TRANS33
011F 308112          135     JNB KEY2,TRANS33
                     136     
0122 75A0DE          137     MOV P2, #11011110B
0125 7590DE          138     MOV P1, #11011110B
0128 120194          139     LCALL DELAY
012B 208006          140     JB KEY1,TRANS33
012E 308103          141     JNB KEY2,TRANS33
                     142      
                     143      
                     144     
0131 020087          145     lJMP PART3
0134 020003          146     TRANS33:LJMP JUDGE0
                     147     
0137                 148     PART4:
0137 7590FF          149     MOV P1,#0FFH
013A 74FE            150     MOV A, #11111110B
013C 7E07            151     MOV R6,#7
013E F5A0            152     MOV P2,A
0140 120194          153     LCALL DELAY
0143                 154     LEFT4:
0143 20804B          155     JB KEY1,TRANS4
0146 208148          156     JB KEY2,TRANS4
0149 23              157     RL A
014A F5A0            158     MOV P2,A
014C 120194          159     LCALL DELAY
014F DEF2            160     DJNZ R6,LEFT4
0151 75A0FF          161     MOV P2,#11111111B
                     162     
0154 747F            163     MOV A, #01111111B
0156 7E07            164     MOV R6,#7
0158 F590            165     MOV P1,A
015A 120194          166     LCALL DELAY
015D                 167     RIGHT4:
015D 208031          168     JB KEY1,TRANS4
0160 20812E          169     JB KEY2,TRANS4
0163 03              170     RR A
0164 F590            171     MOV P1,A
0166 120194          172     LCALL DELAY
0169 DEF2            173     DJNZ R6,RIGHT4
016B 7E07            174     MOV R6,#7
016D                 175     LEFT42:
016D 23              176     RL A
016E F590            177     MOV P1,A
0170 120194          178     LCALL DELAY
0173 DEF8            179     DJNZ R6,LEFT42
0175 7590FF          180     MOV P1,#11111111B
                     181     
0178 747F            182     MOV A, #01111111B
017A 7E06            183     MOV R6,#6
017C F5A0            184     MOV P2,A
017E 120194          185     LCALL DELAY
0181                 186     RIGHT42:
0181 20800D          187     JB KEY1,TRANS4
0184 20810A          188     JB KEY2,TRANS4
0187 03              189     RR A
A51 MACRO ASSEMBLER  TEST                                                                 04/25/2022 11:42:02 PAGE     4

0188 F5A0            190     MOV P2,A
018A 120194          191     LCALL DELAY
018D DEF2            192     DJNZ R6,RIGHT42
                     193     
018F 80A6            194     SJMP PART4
0191 020003          195     TRANS4:LJMP JUDGE0
                     196     
0194                 197     DELAY:
0194 7F03            198     MOV     R7, #3  ;@11.0592MHz
0196                 199     D1:
0196 C030            200     PUSH 30H
0198 C031            201     PUSH 31H
019A 75305A          202     MOV 30H, #90 ;1s=180
019D 753144          203     MOV 31H, #68
01A0                 204     NEXT:
01A0 D531FD          205     DJNZ 31H, NEXT
01A3 D530FA          206     DJNZ 30H, NEXT
01A6 D031            207     POP 31H
01A8 D030            208     POP 30H
01AA DFEA            209     DJNZ R7, D1
01AC 22              210     RET
                     211     
01AD                 212     LDELAY:
01AD 7F03            213     MOV     R7, #3  ;@11.0592MHz
01AF                 214     LD1:
01AF C030            215     PUSH 30H
01B1 C031            216     PUSH 31H
01B3 7530B4          217     MOV 30H, #180 ;1s=180
01B6 753144          218     MOV 31H, #68
01B9                 219     LNEXT:
01B9 D531FD          220     DJNZ 31H, LNEXT
01BC D530FA          221     DJNZ 30H, LNEXT
01BF D031            222     POP 31H
01C1 D030            223     POP 30H
01C3 DFEA            224     DJNZ R7, LD1
01C5 22              225     RET
                     226     
                     227     
                     228     END
A51 MACRO ASSEMBLER  TEST                                                                 04/25/2022 11:42:02 PAGE     5

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

D1 . . . . . . . .  C ADDR   0196H   A   
DELAY. . . . . . .  C ADDR   0194H   A   
JUDGE0 . . . . . .  C ADDR   0003H   A   
JUDGE1 . . . . . .  C ADDR   0009H   A   
JUDGE2 . . . . . .  C ADDR   0015H   A   
KEY1 . . . . . . .  B ADDR   0080H.0 A   
KEY2 . . . . . . .  B ADDR   0080H.1 A   
LD1. . . . . . . .  C ADDR   01AFH   A   
LDELAY . . . . . .  C ADDR   01ADH   A   
LEFT1. . . . . . .  C ADDR   002CH   A   
LEFT2. . . . . . .  C ADDR   005FH   A   
LEFT4. . . . . . .  C ADDR   0143H   A   
LEFT42 . . . . . .  C ADDR   016DH   A   
LNEXT. . . . . . .  C ADDR   01B9H   A   
NEXT . . . . . . .  C ADDR   01A0H   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
PART1. . . . . . .  C ADDR   0021H   A   
PART2. . . . . . .  C ADDR   0054H   A   
PART3. . . . . . .  C ADDR   0087H   A   
PART33 . . . . . .  C ADDR   00D7H   A   
PART4. . . . . . .  C ADDR   0137H   A   
RIGHT1 . . . . . .  C ADDR   003EH   A   
RIGHT2 . . . . . .  C ADDR   0071H   A   
RIGHT4 . . . . . .  C ADDR   015DH   A   
RIGHT42. . . . . .  C ADDR   0181H   A   
TRANS0_1 . . . . .  C ADDR   000FH   A   
TRANS0_2 . . . . .  C ADDR   0012H   A   
TRANS0_3 . . . . .  C ADDR   001BH   A   
TRANS0_4 . . . . .  C ADDR   001EH   A   
TRANS1 . . . . . .  C ADDR   0051H   A   
TRANS2 . . . . . .  C ADDR   0084H   A   
TRANS3 . . . . . .  C ADDR   00D4H   A   
TRANS33. . . . . .  C ADDR   0134H   A   
TRANS4 . . . . . .  C ADDR   0191H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
